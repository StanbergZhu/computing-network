{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport request from \"@/utils/request\";\nexport default {\n  name: 'HomeView',\n  data: function data() {\n    return {\n      tableData: [],\n      total: 0,\n      pageNum: 1,\n      pageSize: 5,\n      address: 1,\n      collapseBtnClass: 'el-icon-s-fold',\n      isCollapse: false,\n      sideWidth: 150,\n      logoTextShow: true,\n      meal_id: \"\",\n      meal_name: \"\",\n      dialogFormVisible: false,\n      form: {}\n    };\n  },\n  created: function created() {\n    this.load();\n  },\n  methods: {\n    collapse: function collapse() {\n      //点击收缩菜单栏按钮触发\n      this.isCollapse = !this.isCollapse;\n\n      if (this.isCollapse) {\n        //收缩\n        this.sideWidth = 64;\n        this.collapseBtnClass = 'el-icon-s-unfold';\n        this.logoTextShow = false;\n      } else {\n        //展开\n        this.sideWidth = 200;\n        this.collapseBtnClass = 'el-icon-s-fold';\n        this.logoTextShow = true;\n      }\n    },\n    load: function load() {\n      var _this = this;\n\n      //请求分页查询数据(meal_id,meal_name,likes_num,comments_num\n      request.get(\"http://localhost:9090/meal/page\", {\n        params: {\n          pageSize: this.pageSize,\n          pageNum: this.pageNum,\n          address: this.address,\n          meal_id: this.meal_id,\n          meal_name: this.meal_name\n        }\n      }).then(function (res) {\n        console.log(res);\n        _this.tableData = res.records;\n        _this.total = res.total;\n      });\n    },\n    handleNewMeal: function handleNewMeal() {\n      this.dialogFormVisible = true;\n      this.form = {};\n    },\n    save: function save() {\n      var _this2 = this;\n\n      request.get(\"http://localhost:9090/meal\", this.form).then(function (res) {\n        if (res) {\n          _this2.$message.success(\"保存成功:)\");\n        } else {\n          _this2.$message.error(\"保存失败:(\");\n        }\n      });\n    },\n    reset: function reset() {\n      this.meal_id = \"\";\n      this.meal_name = \"\";\n      this.load();\n    },\n    handleSizeChange: function handleSizeChange(pageSize) {\n      console.log(\"\\u6BCF\\u9875 \".concat(pageSize, \" \\u6761\"));\n      this.pageSize = pageSize;\n      this.load();\n    },\n    handleCurrentChange: function handleCurrentChange(pageNum) {\n      console.log(\"\\u5F53\\u524D\\u9875: \".concat(pageNum));\n      this.pageNum = pageNum;\n      this.load();\n    },\n    changeAdd1: function changeAdd1() {\n      console.log(\"\\u5F53\\u524D\\u98DF\\u5802: 1\");\n      this.address = 1;\n      this.load();\n    },\n    changeAdd2: function changeAdd2() {\n      console.log(\"\\u5F53\\u524D\\u98DF\\u5802: 2\");\n      this.address = 2;\n      this.load();\n    },\n    changeAdd4: function changeAdd4() {\n      console.log(\"\\u5F53\\u524D\\u98DF\\u5802: 4\");\n      this.address = 4;\n      this.load();\n    },\n    changeAdd5: function changeAdd5() {\n      console.log(\"\\u5F53\\u524D\\u98DF\\u5802: 5\");\n      this.address = 5;\n      this.load();\n    },\n    changeAdd6: function changeAdd6() {\n      console.log(\"\\u5F53\\u524D\\u98DF\\u5802: 6\");\n      this.address = 6;\n      this.load();\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsIA;AAEA;EACAA,gBADA;EAEAC,IAFA,kBAEA;IACA;MACAC,aADA;MAEAC,QAFA;MAGAC,UAHA;MAIAC,WAJA;MAKAC,UALA;MAMAC,kCANA;MAOAC,iBAPA;MAQAC,cARA;MASAC,kBATA;MAUAC,WAVA;MAWAC,aAXA;MAYAC,wBAZA;MAaAC;IAbA;EAeA,CAlBA;EAmBAC,OAnBA,qBAmBA;IACA;EACA,CArBA;EAuBAC;IACAC,QADA,sBACA;MAAA;MACA;;MACA;QAAA;QACA;QACA;QACA;MACA,CAJA,MAIA;QAAA;QACA;QACA;QACA;MACA;IACA,CAZA;IAaAC,IAbA,kBAaA;MAAA;;MACA;MACAC;QACAC;UACAf,uBADA;UAEAD,qBAFA;UAGAE,qBAHA;UAIAK,qBAJA;UAKAC;QALA;MADA,GAQAS,IARA,CAQA;QACAC;QACA;QACA;MACA,CAZA;IAaA,CA5BA;IA6BAC,aA7BA,2BA6BA;MACA;MACA;IACA,CAhCA;IAiCAC,IAjCA,kBAiCA;MAAA;;MACAL;QACA;UACA;QACA,CAFA,MAEA;UACA;QACA;MACA,CANA;IAOA,CAzCA;IA0CAM,KA1CA,mBA0CA;MACA;MACA;MACA;IACA,CA9CA;IA+CAC,gBA/CA,4BA+CArB,QA/CA,EA+CA;MACAiB;MACA;MACA;IACA,CAnDA;IAoDAK,mBApDA,+BAoDAvB,OApDA,EAoDA;MACAkB;MACA;MACA;IACA,CAxDA;IAyDAM,UAzDA,wBAyDA;MACAN;MACA;MACA;IACA,CA7DA;IA8DAO,UA9DA,wBA8DA;MACAP;MACA;MACA;IACA,CAlEA;IAmEAQ,UAnEA,wBAmEA;MACAR;MACA;MACA;IACA,CAvEA;IAwEAS,UAxEA,wBAwEA;MACAT;MACA;MACA;IACA,CA5EA;IA6EAU,UA7EA,wBA6EA;MACAV;MACA;MACA;IACA;EAjFA;AAvBA","names":["name","data","tableData","total","pageNum","pageSize","address","collapseBtnClass","isCollapse","sideWidth","logoTextShow","meal_id","meal_name","dialogFormVisible","form","created","methods","collapse","load","request","params","then","console","handleNewMeal","save","reset","handleSizeChange","handleCurrentChange","changeAdd1","changeAdd2","changeAdd4","changeAdd5","changeAdd6"],"sourceRoot":"src/views","sources":["HomeView.vue"],"sourcesContent":["<template>\n  <el-container style=\"min-height: 100vh;\">\n    <el-aside width=\"sideWidth + 'px'\" style=\"background-color: rgb(238, 241, 246);box-shadow: 2px 0 6px rgb(0 21 41/40%)\">\n      <el-menu :default-openeds=\"['1', '3']\" style=\"min-height: 100%; overflow-x: hidden\"\n               background-color=\"rgb(48,65,86)\"\n               text-color=\"#fff\"\n               active-text-color=\"#ffd04b\"\n               :collapse-transition=\"false\"\n               :collapse=\"isCollapse\"\n      >\n        <div style=\"height: 60px; line-height: 60px; text-align: center\">\n          <img src=\"../assets/nju.png\" alt=\"\" style=\"width: 20px; position: relative; top: 5px; margin-right: 6px\">\n          <b style=\"color: white\" v-show=\"logoTextShow\">南大食堂餐品</b>\n        </div>\n\n          <el-submenu index=\"1\" style=\"width: 150px\">\n            <template slot=\"title\">\n              <i class=\"el-icon-school\"></i>\n              <span slot=\"title\">鼓楼校区</span>\n            </template>\n\n            <el-menu-item index=\"1-1\" style=\"padding-left: 50px\" @click = \"changeAdd1\">一食堂</el-menu-item>\n            <el-menu-item index=\"1-2\" style=\"padding-left: 50px\" @click = \"changeAdd2\">二食堂</el-menu-item>\n\n          </el-submenu>\n\n          <el-submenu index=\"2\" style=\"width: 150px\">\n            <template slot=\"title\">\n              <i class=\"el-icon-school\"></i>\n              <span slot=\"title\">仙林校区</span>\n            </template>\n\n            <el-menu-item index=\"2-1\" style=\"padding-left: 50px\" @click = \"changeAdd4\">四食堂</el-menu-item>\n            <el-menu-item index=\"2-2\" style=\"padding-left: 50px\" @click = \"changeAdd5\">五食堂</el-menu-item>\n            <el-menu-item index=\"2-3\" style=\"padding-left: 50px\" @click = \"changeAdd6\">六食堂</el-menu-item>\n\n          </el-submenu>\n\n        </el-menu>\n    </el-aside>\n\n    <el-container>\n      <el-header style=\"height: 50px; margin-bottom: 1px; font-size: 12px; border-bottom: 1px solid #ccc; line-height: 50px; display: flex\">\n        <div style=\"flex: 1; font-size: 25px\">\n          <span :class=\"collapseBtnClass\" style=\"cursor: pointer\" @click=\"collapse\"></span>\n        </div>\n        <el-dropdown style=\"width: 70px; cursor: pointer\">\n          <span>王小虎</span>\n          <i class=\"el-icon-arrow-down\" style=\"margin-left: 5px\"></i>\n          <el-dropdown-menu slot=\"dropdown\">\n            <el-dropdown-item>个人信息</el-dropdown-item>\n            <el-dropdown-item>退出账号</el-dropdown-item>\n          </el-dropdown-menu>\n        </el-dropdown>\n      </el-header>\n\n      <el-main>\n        <div style=\"margin-bottom: 20px; height: 10px\">\n          <el-breadcrumb separator=\"/\">\n            <el-breadcrumb-item :to=\"{ path: '/' }\" class=\"el-icon-s-home\">首页</el-breadcrumb-item>\n            <el-breadcrumb-item class=\"el-icon-s-custom\"><a href=\"/\">个人界面</a></el-breadcrumb-item>\n            <el-breadcrumb-item class=\"el-icon-thumb\">登录</el-breadcrumb-item>\n          </el-breadcrumb>\n        </div>\n        <div style=\"margin: 10px 0; height: 25px\">\n          <el-input style=\"width: 140px\" placeholder=\"请输入餐品ID\" suffix-icon=\"el-icon-date\" v-model=\"meal_id\"></el-input>\n          <el-input style=\"width: 140px; margin-left: 5px\" placeholder=\"请输入餐品名\" suffix-icon=\"el-icon-food\" v-model=\"meal_name\"></el-input>\n          <el-button style=\"margin-left: 5px\" type=\"primary\" @click=\"load\">搜索</el-button>\n          <el-button style=\"margin-left: 5px\" type=\"warning\" @click=\"reset\">重置</el-button>\n        </div>\n\n        <div style=\"margin: 10px 0\">\n          <el-button type=\"primary\" @click=\"handleNewMeal\">新增<i class=\"el-icon-circle-plus-outline\" style=\"margin-left: 5px\"></i></el-button>\n        </div>\n\n          <el-table :data=\"tableData\" border: stripe>\n            <el-table-column prop=\"meal_id\" label=\"ID\" width=\"100\" align=\"center\">\n            </el-table-column>\n            <el-table-column prop=\"meal_name\" label=\"餐品名\" width=\"500\">\n            </el-table-column>\n            <el-table-column prop=\"likes_num\" label=\"点赞数\" width=\"140\" align=\"center\">\n            </el-table-column>\n            <el-table-column prop=\"comments_num\" label=\"评论数\" width=\"140\" align=\"center\">\n            </el-table-column>\n\n            <el-table-column label=\"操作\" align=\"center\">\n              <template slot-scope=\"scope\">\n                <el-button type=\"primary\"><i class=\"el-icon-view\"></i> </el-button>\n                <el-button type=\"success\"><i class=\"el-icon-edit-outline\"></i></el-button>\n                <el-button type=\"danger\"><i class=\"el-icon-delete\"></i> </el-button>\n              </template>\n            </el-table-column>\n          </el-table>\n\n        <div style=\"padding: 10px 0\">\n          <el-pagination\n              @size-change=\"handleSizeChange\"\n              @current-change=\"handleCurrentChange\"\n              :current-page=\"pageNum\"\n              :page-sizes=\"[5, 10, 15, 20]\"\n              :page-size=\"pageSize\"\n              layout=\"total, sizes, prev, pager, next, jumper\"\n              :total=\"total\">\n          </el-pagination>\n        </div>\n\n        <el-dialog title=\"新增餐品\" :visible.sync=\"dialogFormVisible\" width=\"30%\">\n          <el-form label-width=\"69px\" size=\"small\">\n            <el-form-item label=\"餐品名\">\n              <el-input v-model=\"form.meal_name\" autocomplete=\"off\" ></el-input>\n            </el-form-item>\n            <el-form-item label=\"食堂选择\">\n              <el-select v-model=\"form.region\" placeholder=\"请选择食堂\">\n                <el-option label=\"鼓楼一食堂\" value=\"1\"></el-option>\n                <el-option label=\"鼓楼二食堂\" value=\"2\"></el-option>\n                <el-option label=\"仙林四食堂\" value=\"4\"></el-option>\n                <el-option label=\"仙林五食堂\" value=\"5\"></el-option>\n                <el-option label=\"仙林六食堂\" value=\"6\"></el-option>\n              </el-select>\n            </el-form-item>\n          </el-form>\n          <div slot=\"footer\" class=\"dialog-footer\">\n            <el-button @click=\"dialogFormVisible = false\">取 消</el-button>\n            <el-button type=\"primary\" @click=\"save\">确 定</el-button>\n          </div>\n        </el-dialog>\n\n        </el-main>\n    </el-container>\n  </el-container>\n</template>\n\n<script>\n\nimport request from \"@/utils/request\";\n\nexport default {\n  name: 'HomeView',\n  data() {\n    return {\n      tableData: [],\n      total: 0,\n      pageNum: 1,\n      pageSize: 5,\n      address: 1,\n      collapseBtnClass: 'el-icon-s-fold',\n      isCollapse: false,\n      sideWidth:150,\n      logoTextShow:true,\n      meal_id: \"\",\n      meal_name: \"\",\n      dialogFormVisible:false,\n      form:{},\n    }\n  },\n  created() {\n    this.load()\n  },\n\n  methods:{\n    collapse(){//点击收缩菜单栏按钮触发\n      this.isCollapse = !this.isCollapse;\n      if (this.isCollapse){//收缩\n        this.sideWidth = 64\n        this.collapseBtnClass = 'el-icon-s-unfold'\n        this.logoTextShow = false\n      }else {//展开\n        this.sideWidth = 200\n        this.collapseBtnClass = 'el-icon-s-fold'\n        this.logoTextShow = true\n      }\n    },\n    load(){\n      //请求分页查询数据(meal_id,meal_name,likes_num,comments_num\n      request.get(\"http://localhost:9090/meal/page\",{\n        params:{\n          pageSize:this.pageSize,\n          pageNum:this.pageNum,\n          address:this.address,\n          meal_id:this.meal_id,\n          meal_name:this.meal_name,\n        }\n      }).then(res =>{\n        console.log(res)\n        this.tableData = res.records\n        this.total = res.total\n      })\n    },\n    handleNewMeal(){\n      this.dialogFormVisible = true\n      this.form = {}\n    },\n    save(){\n      request.get(\"http://localhost:9090/meal\",this.form).then(res =>{\n        if(res){\n          this.$message.success(\"保存成功:)\")\n        }else {\n          this.$message.error(\"保存失败:(\")\n        }\n      })\n    },\n    reset(){\n      this.meal_id=\"\"\n      this.meal_name=\"\"\n      this.load()\n    },\n    handleSizeChange(pageSize) {\n      console.log(`每页 ${pageSize} 条`);\n      this.pageSize = pageSize\n      this.load()\n    },\n    handleCurrentChange(pageNum) {\n      console.log(`当前页: ${pageNum}`);\n      this.pageNum = pageNum\n      this.load()\n    },\n    changeAdd1(){\n      console.log(`当前食堂: 1`);\n      this.address = 1\n      this.load()\n    },\n    changeAdd2(){\n      console.log(`当前食堂: 2`);\n      this.address = 2\n      this.load()\n    },\n    changeAdd4(){\n      console.log(`当前食堂: 4`);\n      this.address = 4\n      this.load()\n    },\n    changeAdd5(){\n      console.log(`当前食堂: 5`);\n      this.address = 5\n      this.load()\n    },\n    changeAdd6(){\n      console.log(`当前食堂: 6`);\n      this.address = 6\n      this.load()\n    }\n  }\n}\n</script>\n"]},"metadata":{},"sourceType":"module"}